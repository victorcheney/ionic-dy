# 记录开发项目中的问题及解决方法

## 修改主题  

[https://ionicframework.com/docs/theming/advanced](https://ionicframework.com/docs/theming/advanced)

## 字体修改

variables.scss文件中，修改如下：

```code
:root {
  /* Set the font family of the entire app */
  --ion-font-family: "KaiTi", 楷体;
}
```

https://www.jianshu.com/p/64655ff52faa

## 设置CSS全局变量

[https://ionicframework.com/docs/theming/css-variables](https://ionicframework.com/docs/theming/css-variables)

```code
/* Set variables for all modes */
:root {
  /* Set the background of the entire app */
  --ion-background-color: #ff3700;

  /* Set the font family of the entire app */
  --ion-font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Roboto", sans-serif;
}

/* Set text color of the entire app for iOS only */
.ios {
  --ion-text-color: #000;
}

/* Set text color of the entire app for Material Design only */
.md {
  --ion-text-color: #222;
}

```

## 设置组件变量

要为特定组件设置CSS变量，请在其选择器内添加变量

```code
/* Set the color on all ion-button elements */
ion-button {
  --color: #222;
}

}

/* Set the background on an ion-button with the .fancy-button class */
.fancy-button {
  --background: #00ff00;
}
}
```

## 原生http插件

[https://ionicframework.com/docs/native/http/](https://ionicframework.com/docs/native/http/)

```code
ionic cordova plugin add cordova-plugin-advanced-http
npm install @ionic-native/http
```

## VSCode调试插件

[https://marketplace.visualstudio.com/items?itemName=vsmobile.cordova-tools](https://marketplace.visualstudio.com/items?itemName=vsmobile.cordova-tools)

`Cordova Tools`

## 视频播放插件

`videogular2`

[https://github.com/videogular/videogular2](https://github.com/videogular/videogular2)

### 安装 `videogular2` 和 `core-js`

```code
npm install videogular2 --save
npm install @types/core-js --save-dev
```

### 在`app.module.ts` 引入相关模块

```code
import {NgModule} from '@angular/core';
import {BrowserModule} from '@angular/platform-browser';
import {VgCoreModule} from 'videogular2/core';
import {VgControlsModule} from 'videogular2/controls';
import {VgOverlayPlayModule} from 'videogular2/overlay-play';
import {VgBufferingModule} from 'videogular2/buffering';

import { AppComponent } from './app.component';

@NgModule({
    declarations: [AppComponent],
    imports: [
        BrowserModule,
        VgCoreModule,
        VgControlsModule,
        VgOverlayPlayModule,
        VgBufferingModule
    ],
    providers: [],
    bootstrap: [AppComponent]
})
export class AppModule {
}
```

### 播放m3u8格式视频

[https://videogular.github.io/videogular2/docs/modules/streaming/vg-hls/](https://videogular.github.io/videogular2/docs/modules/streaming/vg-hls/)

### 遇到的问题

1、播放m3u8格式视频时，控制台 `Can't bind to 'vgHls' since it isn't a known property of 'video'.` 错误

由于没有引入 `VgStreamingModule` 模块 [https://github.com/videogular/videogular2/issues/590](https://github.com/videogular/videogular2/issues/590)

```code
import { VgStreamingModule  } from 'videogular2/streaming';
```

2、浏览器报错 `http://localhost:8100/detail/%22https://bobo.kukucdn.com/20190301/6733_3f9641a7/index.m3u8%22`

原因：视频url中有双引号 `%22https://bobo.kukucdn.com/20190301/6733_3f9641a7/index.m3u8%22`


## 本地真机调试出现 `net::ERR_CACHE_MISS` 错误

解决方法：  
1、打开项目根目录platform目录下的 `platforms\android\app\src\main\AndroidManifest.xml`
2、在文件之间增加以下代码来开启app网络权限

```code
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
```

在增加前，请先看下是否已经包含了以上某段代码，如果已经存在的就无需在进行增加。  
3、重新build你的app到你的手机，访问即可正常！